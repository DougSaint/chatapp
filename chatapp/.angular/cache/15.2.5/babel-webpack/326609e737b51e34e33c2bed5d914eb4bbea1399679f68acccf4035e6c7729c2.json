{"ast":null,"code":"import { io } from 'socket.io-client';\nimport { Observable } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nexport class WebsocketService {\n  constructor() {\n    this.socket = io('http://localhost:3000'); // Use o endereço do seu servidor WebSocket\n  }\n  // Método para enviar uma mensagem ao servidor\n  sendMessage(message) {\n    this.socket.emit('message', message);\n  }\n  // Método para ouvir as mensagens enviadas pelo servidor\n  onMessage() {\n    return new Observable(observer => {\n      this.socket.on('message', message => {\n        observer.next(message);\n      });\n    });\n  }\n}\nWebsocketService.ɵfac = function WebsocketService_Factory(t) {\n  return new (t || WebsocketService)();\n};\nWebsocketService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: WebsocketService,\n  factory: WebsocketService.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"mappings":"AACA,SAASA,EAAE,QAAgB,kBAAkB;AAC7C,SAASC,UAAU,QAAQ,MAAM;;AAKjC,OAAM,MAAOC,gBAAgB;EAG3BC;IACE,IAAI,CAACC,MAAM,GAAGJ,EAAE,CAAC,uBAAuB,CAAC,CAAC,CAAC;EAC7C;EAEA;EACAK,WAAW,CAACC,OAAe;IACzB,IAAI,CAACF,MAAM,CAACG,IAAI,CAAC,SAAS,EAAED,OAAO,CAAC;EACtC;EAEA;EACAE,SAAS;IACP,OAAO,IAAIP,UAAU,CAAEQ,QAAQ,IAAI;MACjC,IAAI,CAACL,MAAM,CAACM,EAAE,CAAC,SAAS,EAAGJ,OAAe,IAAI;QAC5CG,QAAQ,CAACE,IAAI,CAACL,OAAO,CAAC;MACxB,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ;;AAnBWJ,gBAAgB;mBAAhBA,gBAAgB;AAAA;AAAhBA,gBAAgB;SAAhBA,gBAAgB;EAAAU,SAAhBV,gBAAgB;EAAAW,YAFf;AAAM","names":["io","Observable","WebsocketService","constructor","socket","sendMessage","message","emit","onMessage","observer","on","next","factory","providedIn"],"sourceRoot":"","sources":["/home/doug/Área de Trabalho/process/chatapp/src/app/web-socket.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { io, Socket } from 'socket.io-client';\nimport { Observable } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class WebsocketService {\n  private socket: Socket;\n\n  constructor() {\n    this.socket = io('http://localhost:3000'); // Use o endereço do seu servidor WebSocket\n  }\n\n  // Método para enviar uma mensagem ao servidor\n  sendMessage(message: string): void {\n    this.socket.emit('message', message);\n  }\n\n  // Método para ouvir as mensagens enviadas pelo servidor\n  onMessage(): Observable<string> {\n    return new Observable((observer) => {\n      this.socket.on('message', (message: string) => {\n        observer.next(message);\n      });\n    });\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}